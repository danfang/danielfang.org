/*! dfang-website 30-05-2015 */
var API_URL="http://api.danielfang.org/",Router=ReactRouter,DefaultRoute=Router.DefaultRoute,Link=Router.Link,Route=Router.Route,RouteHandler=Router.RouteHandler,getFromNow=function(a){return moment(new Date(a)).fromNow()},App=React.createClass({displayName:"App",getInitialState:function(){return{me:null}},componentDidMount:function(){$.get(API_URL,function(a){console.log(a),this.setState({me:a.me})}.bind(this))},render:function(){var a,b=this.state.me;return b&&(a=React.createElement("div",{id:"contact"},React.createElement("a",{target:"_blank",href:"mailto:"+b.contact.email},React.createElement("i",{className:"fa fa-envelope"})),React.createElement("a",{target:"_blank",href:b.contact.facebook},React.createElement("i",{className:"fa fa-facebook"})),React.createElement("a",{target:"_blank",href:b.contact.github},React.createElement("i",{className:"fa fa-github"})),React.createElement("a",{target:"_blank",href:b.contact.linkedin},React.createElement("i",{className:"fa fa-linkedin"})),React.createElement("a",{target:"_blank",href:b.contact.twitter},React.createElement("i",{className:"fa fa-twitter"})))),React.createElement("div",{className:!0},React.createElement("header",{id:"nav"},React.createElement("ul",null,React.createElement("li",null,React.createElement(Link,{to:"home"},"Home")),React.createElement("li",null,React.createElement(Link,{to:"code"},"Code")),React.createElement("li",null,React.createElement("a",{target:"_blank",href:"resume.pdf"},"Résumé")))),React.createElement("div",{id:"content"},React.createElement(RouteHandler,{me:this.state.me})),React.createElement("footer",null,React.createElement("p",null,"Made with ",React.createElement("a",{target:"_blank",href:"https://github.com/danfang/me-api"},"Me API"),", React, and Sass"),a))}}),Home=React.createClass({displayName:"Home",getInitialState:function(){return{tweets:[],checkins:[],btc:null}},componentDidMount:function(){$.get(API_URL+"twitter",function(a){console.log(a),this.setState({tweets:a.tweets})}.bind(this)),$.get(API_URL+"location",function(a){console.log(a),this.setState({checkins:a.checkins.items})}.bind(this)),$.get(API_URL+"btc",function(a){console.log(a),this.setState({btc:a})}.bind(this))},render:function(){var a=this.props.me;if(!a)return React.createElement("div",null);var b=this.state.checkins.length?React.createElement(Checkin,{checkin:this.state.checkins[0]}):"",c=this.state.tweets.length?React.createElement(Tweet,{tweet:this.state.tweets[0]}):"",d=this.state.btc?React.createElement(BtcTransaction,{txn:this.state.btc.txns[0]}):"";this.state.btc?React.createElement(BtcAddress,{addrs:this.state.btc.addrs}):"";return React.createElement("div",{id:"home"},React.createElement("div",{className:"overview"},React.createElement("h1",null,a.name),React.createElement("p",{className:"bio"},a.bio),React.createElement("p",null,"Currently working on ",React.createElement("a",{target:"_blank",href:a.currentWork.url},a.currentWork.name),".")),React.createElement("div",{id:"status",className:"row"},b,c,d))}}),Checkin=React.createClass({displayName:"Checkin",render:function(){var a=this.props.checkin,b=a.venue,c="https://www.google.com/maps?z=12&t=m&q=loc:";return c+=b.location.lat+"+"+b.location.lng,React.createElement("div",{className:"checkin media col-md-4",id:"latest-checkin"},React.createElement("div",{className:"media-left"},React.createElement("a",{target:"_blank",href:c},React.createElement("i",{className:"fa fa-2x fa-map-marker"}))),React.createElement("div",{className:"media-body"},React.createElement("a",{target:"_blank",href:c},React.createElement("p",{className:"location title"},a.venue.name)),React.createElement("p",{className:"description"},a.shout),React.createElement("p",{className:"date"},getFromNow(1e3*a.createdAt))))}}),Tweet=React.createClass({displayName:"Tweet",render:function(){var a=this.props.tweet,b="https://twitter.com/"+a.user.screen_name;return React.createElement("div",{className:"tweet media col-md-4",id:"latest-tweet"},React.createElement("div",{className:"media-left"},React.createElement("a",{target:"_blank",href:b},React.createElement("i",{className:"fa fa-2x fa-twitter"}))),React.createElement("div",{className:"media-body"},React.createElement("a",{target:"_blank",href:b},React.createElement("p",{className:"screenName title"},"@",a.user.screen_name)),React.createElement("p",{className:"description"},a.text),React.createElement("p",{className:"date"},getFromNow(a.created_at))))}}),BtcTransaction=React.createClass({displayName:"BtcTransaction",render:function(){var a=this.props.txn,b=Number(a.amount.amount),c=a.recipient?a.recipient.name:a.recipient_address.splice(5),d="https://www.coinbase.com/join/dfang1";return React.createElement("div",{className:"btc-txn media col-md-4",id:"latest-txn"},React.createElement("div",{className:"media-left"},React.createElement("a",{target:"_blank",href:d},React.createElement("i",{className:"fa fa-2x fa-money"}))),React.createElement("div",{className:"media-body"},React.createElement("a",{target:"_blank",href:d},React.createElement("p",{className:"title"},0>b?"Sent ":"Received ",Math.abs(b)," ",a.amount.currency," ",0>b?"to ":"from "," ",c)),React.createElement("p",{className:"description"},a.notes),React.createElement("p",{className:"date"},getFromNow(a.created_at))))}}),BtcAddress=React.createClass({displayName:"BtcAddress",render:function(){var a=this.props.addrs,b=a[Math.floor(Math.random()*a.length)];return React.createElement("div",{className:"btc-addr",id:"btc-addr"},React.createElement("i",{className:"fa fa-btc"}),React.createElement("span",{className:"addr"},b.address.address))}}),Code=React.createClass({displayName:"Code",getInitialState:function(){return{events:[]}},componentDidMount:function(){$.get(API_URL+"code",function(a){console.log(a),this.setState({events:a})}.bind(this))},render:function(){if(!this.state.events.length)return React.createElement("div",null);var a=this.state.events.map(function(a){return"WatchEvent"==a.type?React.createElement(WatchEvent,{event:a}):"CreateEvent"==a.type?React.createElement(CreateEvent,{event:a}):"PushEvent"==a.type?React.createElement(PushEvent,{event:a}):"PublicEvent"==a.type?React.createElement(PublicEvent,{event:a}):"IssuesEvent"==a.type?React.createElement(IssuesEvent,{event:a}):void 0});return React.createElement("div",{id:"code"},React.createElement("h1",null,"My latest Github activity"),React.createElement("div",{className:"events"},a))}}),WatchEvent=React.createClass({displayName:"WatchEvent",render:function(){var a=this.props.event,b=a.repo;return React.createElement("div",{className:"github-event"},React.createElement("p",{className:"title"},React.createElement("i",{className:"fa fa-star-o fa-lg"}),"Starred ",React.createElement("a",{target:"_blank",href:"https://github.com/"+b.name},b.name)),React.createElement("p",{className:"date"},getFromNow(a.created_at)))}}),CreateEvent=React.createClass({displayName:"CreateEvent",render:function(){var a=this.props.event,b=a.repo;return React.createElement("div",{className:"github-event"},React.createElement("p",{className:"title"},React.createElement("i",{className:"fa fa-code-fork fa-lg"}),"Created ",a.payload.ref_type," ",a.payload.ref," in",React.createElement("a",{target:"_blank",href:"https://github.com/"+b.name}," ",b.name)),React.createElement("p",{className:"date"},getFromNow(a.created_at)))}}),PushEvent=React.createClass({displayName:"PushEvent",render:function(){var a=this.props.event,b=a.repo;return React.createElement("div",{className:"github-event"},React.createElement("p",{className:"title"},React.createElement("i",{className:"fa fa-code fa-lg"}),"Pushed ",a.payload.commits.length," commit",1==a.payload.commits.length?"":"s"," to",React.createElement("a",{target:"_blank",href:"https://github.com/"+b.name}," ",b.name)),React.createElement("p",{className:"commit"},'"',a.payload.commits[0].message,'" on ',a.payload.ref),React.createElement("p",{className:"date"},getFromNow(a.created_at)))}}),PublicEvent=React.createClass({displayName:"PublicEvent",render:function(){var a=this.props.event,b=a.repo;return React.createElement("div",{className:"github-event"},React.createElement("p",{className:"title"},React.createElement("i",{className:"fa fa-code fa-lg"}),"Open sourced ",React.createElement("a",{target:"_blank",href:"https://github.com/"+b.name}," ",b.name)),React.createElement("p",{className:"date"},getFromNow(a.created_at)))}}),IssuesEvent=React.createClass({displayName:"IssuesEvent",render:function(){var a=this.props.event,b=a.payload.action;b=b.charAt(0).toUpperCase()+b.slice(1);var c=a.repo;return React.createElement("div",{className:"github-event"},React.createElement("p",{className:"title"},React.createElement("i",{className:"fa fa-flag-o fa-lg"}),b," ",React.createElement("a",{target:"_blank",href:a.payload.issue.html_url},"issue")," in ",React.createElement("a",{target:"_blank",href:"https://github.com/"+c.name}," ",c.name)),React.createElement("p",{className:"description"},a.payload.issue.title),React.createElement("p",{className:"date"},getFromNow(a.created_at)))}}),routes=React.createElement(Route,{name:"app",path:"/",handler:App},React.createElement(Route,{name:"code",handler:Code}),React.createElement(DefaultRoute,{name:"home",handler:Home}));Router.run(routes,function(a){React.render(React.createElement(a,null),document.getElementById("global-container"))});